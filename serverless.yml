plugins:
  - serverless-log-forwarding

custom:
  pythonRequirements:
    dockerizePip: false
  logForwarding:
    destinationARN: {"Fn::ImportValue": "${env:SUMOLOGIC_LAMBDA_ARN_EXPORT_NAME}"}

service: MV-SLS-slack-curated-sql

provider:
  name: aws
  runtime: python3.6
  stage: ${env:ENV}
  memory: 128
  region: ${env:AWS_REGION}
  variableSyntax: "\\${(?!AWS::)(env:[ :a-zA-Z0-9._,\\-\\/\\(\\)]+?)}"
  stackTags:
    FRAMEWORK: serverless
  environment:
    ENV: ${env:ENV}

package:
  artifact: package/package.zip

functions:
  slack:
    handler: lambda.handler
    events:
      - http: POST hello
